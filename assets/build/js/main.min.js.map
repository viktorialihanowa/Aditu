{"version":3,"sources":["main.min.js"],"names":["timer","items","document","querySelectorAll","dots","slider","querySelector","counter","classList","add","startTimeout","setInterval","doActiveNextElement","switchActiveElement","evt","clearInterval","remove","target","getAttribute","i","length","contains","toggle","addEventListener","multiItemSlider","selector","config","_mainElement","_sliderWrapper","_sliderItems","_sliderControls","_sliderControlLeft","_sliderControlRight","_wrapperWidth","parseFloat","getComputedStyle","width","_itemWidth","_positionLeftItem","_transform","_step","_items","forEach","item","index","push","position","transform","_transformItem","direction","style","_controlClick","e","preventDefault","right","left"],"mappings":"AAAA,IAIIA,MAJAC,MAAQC,SAASC,iBAAiB,kBAClCC,KAAOF,SAASC,iBAAiB,eACjCE,OAASH,SAASI,cAAc,YAChCC,QAAU,EAEdN,MAAM,GAAGO,UAAUC,IAAI,QACvBL,KAAK,GAAGI,UAAUC,IAAI,UAItB,IAAIC,aAAe,WACfV,MAAQW,YAAYC,oBAAqB,MAIzCC,oBAAsB,SAASC,GAC/BC,cAAcf,OACdE,SAASI,cAAc,uBAAuBE,UAAUQ,OAAO,QAC/Dd,SAASI,cAAc,sBAAsBE,UAAUQ,OAAO,UAC9DF,EAAIG,OAAOT,UAAUC,IAAI,UACzBP,SAASI,cAAc,8BAAgCQ,EAAIG,OAAOC,aAAa,cAAgB,MAAMV,UAAUC,IAAI,QACnH,IAAK,IAAIU,EAAI,EAAGA,EAAIf,KAAKgB,OAAQD,IACzBf,KAAKe,GAAGX,UAAUa,SAAS,YAC3Bd,QAAUY,GAGlBT,gBAKAE,oBAAsB,WAClBR,KAAKG,SAASC,UAAUa,SAAS,YACjCjB,KAAKG,SAASC,UAAUc,OAAO,UAC/BrB,MAAMM,SAASC,UAAUc,OAAO,UAChCf,SACeN,MAAMmB,SACjBb,QAAU,GAEdH,KAAKG,SAASC,UAAUc,OAAO,UAC/BrB,MAAMM,SAASC,UAAUc,OAAO,UAIxCZ,eAEA,IAAK,IAAIS,EAAI,EAAGA,EAAIf,KAAKgB,OAAQD,IAC7Bf,KAAKe,GAAGI,iBAAiB,QAASV,qBAGtC,IAAIW,gBACO,SAASC,EAAUC,GACtB,IACIC,EAAezB,SAASI,cAAcmB,GACtCG,EAAiBD,EAAarB,cAAc,qBAC5CuB,EAAeF,EAAaxB,iBAAiB,kBAC7C2B,EAAkBH,EAAaxB,iBAAiB,gBAChD4B,EAAqBJ,EAAarB,cAAc,kBAChD0B,EAAsBL,EAAarB,cAAc,kBACjD2B,EAAgBC,WAAWC,iBAAiBP,GAAgBQ,OAC5DC,EAAaH,WAAWC,iBAAiBN,EAAa,IAAIO,OAC1DE,EAAoB,EACpBC,EAAa,EACbC,EAAQH,EAAaJ,EAAgB,IAErCQ,EAAS,GAIbZ,EAAaa,SAAQ,SAASC,EAAMC,GAChCH,EAAOI,KAAK,CAAEF,KAAMA,EAAMG,SAAUF,EAAOG,UAAW,OAG1D,IAAID,EACQ,EADRA,EAEQL,EAAOrB,OAAS,EAExB4B,EAAiB,SAASC,GAC1B,GAAkB,UAAdA,EAAuB,CACvB,GAAKX,EAAoBL,EAAgBI,EAAa,GAAMS,EAIxD,OAECf,EAAmBvB,UAAUa,SAAS,qBAEvCU,EAAmBvB,UAAUC,IAAI,oBAEjCuB,EAAoBxB,UAAUa,SAAS,qBAAwBiB,EAAoBL,EAAgBI,GAAeS,GAClHd,EAAoBxB,UAAUQ,OAAO,oBAEzCsB,IACAC,GAAcC,EAGlB,GAAkB,SAAdS,EAAsB,CACtB,GAAIX,GAAqBQ,EAErB,OAECd,EAAoBxB,UAAUa,SAAS,qBACxCW,EAAoBxB,UAAUC,IAAI,oBAElCsB,EAAmBvB,UAAUa,SAAS,qBAAuBiB,EAAoB,GAAKQ,GACtFf,EAAmBvB,UAAUQ,OAAO,oBAExCsB,IAGAC,GAAcC,EAIlBZ,EAAesB,MAAMH,UAAY,cAAgBR,EAAa,MAI9DY,EAAgB,SAASC,GACzB,GAAIA,EAAEnC,OAAOT,UAAUa,SAAS,eAAgB,CAC5C+B,EAAEC,iBACF,IAAIJ,EAAYG,EAAEnC,OAAOT,UAAUa,SAAS,iBAAmB,QAAU,OACzE2B,EAAeC,KAcvB,OARInB,EAAgBY,SAAQ,SAASC,GAC7BA,EAAKpB,iBAAiB,QAAS4B,MAOhC,CACHG,MAAO,WACHN,EAAe,UAEnBO,KAAM,WACFP,EAAe,WAO3B3C,OAASmB,gBAAgB","file":"main.min.js","sourcesContent":["var items = document.querySelectorAll(\".actions__item\");\r\nvar dots = document.querySelectorAll(\".dots__item\");\r\nvar slider = document.querySelector(\".actions\");\r\nvar counter = 0;\r\nvar timer;\r\nitems[0].classList.add(\"show\");\r\ndots[0].classList.add(\"active\");\r\n\r\n\r\n// Установить интервал\r\nvar startTimeout = function() {\r\n    timer = setInterval(doActiveNextElement, 5000);\r\n};\r\n\r\n// Переклюючиться на нужный элемент\r\nvar switchActiveElement = function(evt) {\r\n    clearInterval(timer);\r\n    document.querySelector(\".actions__item.show\").classList.remove(\"show\");\r\n    document.querySelector(\".dots__item.active\").classList.remove(\"active\");\r\n    evt.target.classList.add(\"active\");\r\n    document.querySelector('.actions__item[index-data=\"' + evt.target.getAttribute(\"index-data\") + '\"]').classList.add(\"show\");\r\n    for (var i = 0; i < dots.length; i++) {\r\n        if (dots[i].classList.contains('active')) {\r\n            counter = i;\r\n        }\r\n    }\r\n    startTimeout();\r\n    return;\r\n};\r\n\r\n//Сделать активным следующий элемент после активного\r\nvar doActiveNextElement = function() {\r\n    if (dots[counter].classList.contains(\"active\")) {\r\n        dots[counter].classList.toggle(\"active\");\r\n        items[counter].classList.toggle(\"show\");\r\n        counter++;\r\n        if (counter == items.length) {\r\n            counter = 0;\r\n        }\r\n        dots[counter].classList.toggle(\"active\");\r\n        items[counter].classList.toggle(\"show\");\r\n    }\r\n};\r\n\r\nstartTimeout();\r\n\r\nfor (var i = 0; i < dots.length; i++) {\r\n    dots[i].addEventListener(\"click\", switchActiveElement);\r\n}\r\n'use strict';\r\nvar multiItemSlider = (function() {\r\n    return function(selector, config) {\r\n        var\r\n            _mainElement = document.querySelector(selector), // основный элемент блока\r\n            _sliderWrapper = _mainElement.querySelector('.popular__wrapper'), // обертка для .slider-item\r\n            _sliderItems = _mainElement.querySelectorAll('.popular__item'), // элементы (.slider-item)\r\n            _sliderControls = _mainElement.querySelectorAll('.popular-btn'), // элементы управления\r\n            _sliderControlLeft = _mainElement.querySelector('.popular__prew'), // кнопка \"LEFT\"\r\n            _sliderControlRight = _mainElement.querySelector('.popular__next'), // кнопка \"RIGHT\"\r\n            _wrapperWidth = parseFloat(getComputedStyle(_sliderWrapper).width), // ширина обёртки\r\n            _itemWidth = parseFloat(getComputedStyle(_sliderItems[0]).width), // ширина одного элемента    \r\n            _positionLeftItem = 0, // позиция левого активного элемента\r\n            _transform = 0, // значение транфсофрмации .slider_wrapper\r\n            _step = _itemWidth / _wrapperWidth * 100, // величина шага (для трансформации)  Изначально рассчитывается в процентак\r\n            // _step = _itemWidth, // величина шага (для трансформации), меняем на пиксели\r\n            _items = []; // массив элементов\r\n\r\n\r\n        // наполнение массива _items\r\n        _sliderItems.forEach(function(item, index) {\r\n            _items.push({ item: item, position: index, transform: 0 });\r\n        });\r\n\r\n        var position = {\r\n            getMin: 0,\r\n            getMax: _items.length - 1,\r\n        }\r\n        var _transformItem = function(direction) {\r\n            if (direction === 'right') {\r\n                if ((_positionLeftItem + _wrapperWidth / _itemWidth - 1) >= position.getMax) {\r\n\r\n\r\n\r\n                    return;\r\n                }\r\n                if (!_sliderControlLeft.classList.contains('popular-btn_show')) {\r\n\r\n                    _sliderControlLeft.classList.add('popular-btn_show');\r\n                }\r\n                if (_sliderControlRight.classList.contains('popular-btn_show') && (_positionLeftItem + _wrapperWidth / _itemWidth) >= position.getMax) {\r\n                    _sliderControlRight.classList.remove('popular-btn_show');\r\n                }\r\n                _positionLeftItem++;\r\n                _transform -= _step;\r\n\r\n            }\r\n            if (direction === 'left') {\r\n                if (_positionLeftItem <= position.getMin) {\r\n\r\n                    return;\r\n                }\r\n                if (!_sliderControlRight.classList.contains('popular-btn_show')) {\r\n                    _sliderControlRight.classList.add('popular-btn_show');\r\n                }\r\n                if (_sliderControlLeft.classList.contains('popular-btn_show') && _positionLeftItem - 1 <= position.getMin) {\r\n                    _sliderControlLeft.classList.remove('popular-btn_show');\r\n                }\r\n                _positionLeftItem--;\r\n\r\n\r\n                _transform += _step;\r\n\r\n\r\n            }\r\n            _sliderWrapper.style.transform = 'translateX(' + _transform + '%)';\r\n        }\r\n\r\n        // обработчик события click для кнопок \"назад\" и \"вперед\" - работает\r\n        var _controlClick = function(e) {\r\n            if (e.target.classList.contains('popular-btn')) {\r\n                e.preventDefault();\r\n                var direction = e.target.classList.contains('popular__next') ? 'right' : 'left';\r\n                _transformItem(direction);\r\n            }\r\n        };\r\n\r\n        var _setUpListeners = function() {\r\n            // добавление к кнопкам \"назад\" и \"вперед\" обрботчика _controlClick для событя click\r\n            _sliderControls.forEach(function(item) {\r\n                item.addEventListener('click', _controlClick);\r\n            });\r\n        }\r\n\r\n        // инициализация\r\n        _setUpListeners();\r\n\r\n        return {\r\n            right: function() { // метод right\r\n                _transformItem('right');\r\n            },\r\n            left: function() { // метод left\r\n                _transformItem('left');\r\n            }\r\n        }\r\n\r\n    }\r\n}());\r\n\r\nvar slider = multiItemSlider('.popular')"]}